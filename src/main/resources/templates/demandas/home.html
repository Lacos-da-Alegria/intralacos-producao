<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:include="fragments/header :: content"></head>

<body>

  <section id="container" >
      <!-- **********************************************************************************************************************************************************
      TOP BAR CONTENT & NOTIFICATIONS
      *********************************************************************************************************************************************************** -->
      <!--header start-->
     <header th:replace="fragments/top-menu :: header"></header>	
      <!--header end-->
      
      <!-- **********************************************************************************************************************************************************
      MAIN SIDEBAR MENU
      *********************************************************************************************************************************************************** -->
      <!--sidebar start-->
      <aside>
      	<div th:replace="fragments/menu :: side"></div>
      </aside>
      <!--sidebar end-->
     
      <!-- **********************************************************************************************************************************************************
      MAIN CONTENT
      *********************************************************************************************************************************************************** -->
      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">
          	<h3><i class="fa fa-users hidden-phone" aria-hidden="true"></i> <b> <span th:text="${equipe.nome}"></span><b> 
				<button sec:authorize="hasRole('LIDER')" type="button" class="btn-round btn-info" data-toggle="modal" href="#ModalInfoLider"><i class="fa fa-info-circle" style="font-size:20px;" aria-hidden="true"></i></button>
          		<button sec:authorize="hasRole('DEMANDA')" type="button" class="btn-round btn-info" data-toggle="modal" href="#ModalInfo"><i class="fa fa-info-circle" style="font-size:20px;" aria-hidden="true"></i></button>
			</h3>
             	<div class="col-sm-6 col-sm-6">
	             	Legenda:
				 	<a style="font-size:13px;" class="btn btn-info btn-xs" onclick="legandaButton('Capturar Demanda')"><i class="fa fa-lock"></i></a>
				 	<a style="font-size:13px;" class="btn btn-primary btn-xs" onclick="legandaButton('Adicionar Nota')"><i class="fa fa-plus"></i></a>
				 	<a style="font-size:13px;" class="btn btn-success btn-xs" onclick="legandaButton('Concluir Demanda')"><i class="fa fa-check"></i></a>
				 	<a style="font-size:13px;" class="btn btn-info btn-xs" onclick="legandaButton('Adicionar Pendência')"><i class="fa fa-flag"></i></a>
				 	<a style="font-size:13px;" class="btn btn-info btn-xs" onclick="legandaButton('Resolve Pendência')"><i class="fa fa-thumbs-o-up"></i></a>
				 	<a style="font-size:13px;" class="btn btn-warning btn-xs" onclick="legandaButton('Descapturar Demanda')"><i class="fa fa-unlock-alt"></i></a>
				 	<div sec:authorize="hasRole('LIDER')" th:remove="tag">
				 	<a style="font-size:13px;" class="btn btn-info btn-xs" onclick="legandaButton('Reabre Demanda')"><i class="fa fa-undo"></i></a>
				 	<a style="font-size:13px;" class="btn btn-danger btn-xs" onclick="legandaButton('Arquivar Demanda')"><i class="fa fa-archive"></i></a>
				 	<a style="font-size:13px;" class="btn btn-primary btn-xs" onclick="legandaButton('Designar Demanda')"><i class="fa fa-share-square"></i></a>
				 	</div>	
				 	<br>
             		<span id="legenda-btn" style="margin-left:60px; color:blue"></span>				
             	</div>
 			<div class="col-sm-6" sec:authorize="hasRole('DIRETOR')">	
             	<div class="col-sm-12 col-sm-12 demanda-margem">
					<label class="col-sm-3 col-sm-3 control-label"><b><i class="fa fa-question-circle-o" aria-hidden="true"></i> Equipes	</b></label>
             	 	<select class="form-control select2" id="equipes" name="equipe"  style="width:100%;">
             	 		<option value="">Selecione um Equipe</option>
						<option th:each="e : ${equipes}" th:value="${e.id}" th:text="${e.nome}" th:selected="${equipe != null && equipe.id == e.id}"></option>
                	</select>
             	</div>
		    </div>

			<br>
			 	
              <div class="row mt mb">
                  <div class="col-md-6">
                      <section class="task-panel tasks-widget">
	                	<div class="panel-heading">
	                        <div class="pull-left"><h5><i class="fa fa-tasks"></i> A Fazer - Demandas não Capturadas</h5></div>
	                        <br>
	                 	</div>
                          <div class="panel-body">                              
							  <div class="task-content">
								<div style="height:248px;overflow:auto;">
                                 <ul id="sortable" class="task-list">	
                                    <li th:each="demanda : ${demandas}" th:if="${demanda.status == 0}" th:class="'list-'+${demanda.criticidade()}">
                                        <a th:href="'/demanda/notas?demanda='+${demanda.id}"><i class=" fa fa-ellipsis-v"></i></a>
                                        <div class="task-checkbox">
                                            <span th:class="'badge bg-'+${demanda.criticidade()}"><small th:text="${demanda.diasVencimento()}"></small></span>
                                        </div>
                                        <div class="task-title">
                                            <span class="task-title-sp" th:text="${demanda.titulo}"></span>
                                            <span class="label label-warning">Sem Responsánvel</span>
                                            <div class="pull-right ">
                                                <a onclick="clickAndDisable(this);" style="font-size:15px;" th:href="'/demanda/capturar?demanda=' + ${demanda.id}" class="btn btn-info btn-xs fa fa-lock"></a>
                            					<button sec:authorize="hasRole('LIDER')" th:onclick="'modalDesignaDemanda(' + ${demanda.id} + ');'" style="font-size:13px;" class="btn btn-primary btn-xs fa fa-share-square"></button>
                                            </div>
                                        </div>
                                    </li>
                                  </ul>
								</div>
                              </div>
                              <div class=" add-task-row">
                                  <a class="btn btn-success btn-sm pull-left" data-toggle="modal" href="#modalDemanda">Adicionar Demanda</a>
                                  <a class="btn btn-default btn-sm pull-right hidden-phone" >Ver Todo Histórico</a>
                              </div>
                          </div>
                      </section>
                  </div><!--/col-md-12 -->
				  
				   <div class="col-md-6">
                      <section class="task-panel tasks-widget">
	                	<div class="panel-heading">
	                        <div class="pull-left"><h5><i class="fa fa-share"></i> Fazendo - Lista de Demandas Ativas</h5></div>
	                        <br>
	                 	</div>
                          <div class="panel-body">
                              <div class="task-content">
							   <div style="height:278px;overflow:auto;">
                                  <ul id="sortable2" class="task-list">
									  <li th:each="demanda : ${demandas}" th:if="${demanda.status == 1}" th:class="'list-'+${demanda.criticidade()}">
                                          <a th:href="'/demanda/notas?demanda='+${demanda.id}"><i class=" fa fa-ellipsis-v"></i></a>
                                          <div class="task-checkbox">
                                              <span th:class="'badge bg-'+${demanda.criticidade()}"><small th:text="${demanda.diasVencimento()}"></small></span>
                                          </div>
                                          <div class="task-title">
                                              <span class="task-title-sp" th:text="${demanda.titulo}"></span>
											  	<span class="label label-primary" th:text="${demanda.responsavel.getPrimerioNome()}"></span>
                                              <div class="pull-right">
                                              	<button  th:onclick="'modalAddNota('+${demanda.id} + ');'" style="font-size:13px;" class="btn btn-primary btn-xs fa fa-plus"></button>
                                                <div th:if="${demanda.responsavel.id == @userInfo.getVoluntario().getId()}" th:remove="tag">
                                                <button th:onclick="'modalAddConclusao('+${demanda.id}+');'" style="font-size:13px;" class="btn btn-success btn-xs fa fa-check" ></button>
                                                <button th:onclick="'modalAddPendencia(' + ${demanda.id} + ');'" style="font-size:13px;" class="btn btn-info btn-xs fa fa-flag" ></button>												                                                    
											  	<a style="font-size:13px;"  th:href="'/demanda/descapturar?demanda=' + ${demanda.id}" class="btn btn-warning btn-xs fa fa-unlock-alt" onclick="clickAndDisable(this);"></a>
											  	</div>
											  	<a sec:authorize="hasRole('LIDER')" th:if="${demanda.responsavel.id != @userInfo.getVoluntario().getId()}" style="font-size:13px;"  th:href="'/lider/descapturar?demanda=' + ${demanda.id}" class="btn btn-warning btn-xs fa fa-unlock-alt" onclick="clickAndDisable(this);"></a>
                                              </div>
                                          </div>
                                      </li>
                                  </ul>
								 </div>
                              </div>
                          </div>
                      </section>
                  </div><!--/col-md-12 -->
                  
				  <div class="col-md-6">
                      <section class="task-panel tasks-widget">
	                	<div class="panel-heading">
	                        <div class="pull-left"><h5><i class="fa fa-exclamation-triangle"></i> Pendentes - Lista de Demandas Com Pendências</h5></div>
	                        <br>
	                 	</div>
                          <div class="panel-body">
                              <div class="task-content">
							   <div style="height:278px;overflow:auto;">
                                  <ul id="sortable3" class="task-list">
									  <li th:each="demanda : ${demandas}" th:if="${demanda.status == 2}" th:class="'list-'+${demanda.criticidade()}">
                                          <a th:href="'/demanda/notas?demanda='+${demanda.id}"><i class=" fa fa-ellipsis-v"></i></a>
                                          <div class="task-checkbox">
                                              <span th:class="'badge bg-'+${demanda.criticidade()}"><small th:text="${demanda.diasVencimento()}"></small></span>
                                          </div>
                                          <div class="task-title">
                                              <span class="task-title-sp" th:text="${demanda.titulo}"></span>
											  	<span class="label label-primary" th:text="${demanda.responsavel.getPrimerioNome()}"></span>
                                              <div class="pull-right">
                                              	  <button th:onclick="'modalAddNota(' + ${demanda.id} + ');'" style="font-size:13px;" class="btn btn-primary btn-xs fa fa-plus"></button>
                                              	  <div th:if="${demanda.responsavel.id == @userInfo.getVoluntario().getId()}" th:remove="tag">
                                              	  	<button th:onclick="'modalAddConclusao('+${demanda.id}+');'" style="font-size:13px;" class="btn btn-success btn-xs fa fa-check" ></button>
												  	<button th:onclick="'modalAddSolucao('+${demanda.id}+');'" style="font-size:13px;" class="btn btn-info btn-xs fa fa-thumbs-o-up"></button>												                                                    
												  	<a style="font-size:13px;"  th:href="'/demanda/descapturar?demanda=' + ${demanda.id}" class="btn btn-warning btn-xs fa fa-unlock-alt" onclick="clickAndDisable(this);"></a>
                                              	  </div>
                                              </div>
                                          </div>
                                      </li>
                                  </ul>
								 </div>
                              </div>
                          </div>
                      </section>
                  </div><!--/col-md-12 -->
				  
				  <div class="col-md-6">
                      <section class="task-panel tasks-widget">
	                	<div class="panel-heading">
	                        <div class="pull-left"><h5><i class="fa fa-check-square-o"></i> Concluídas - Lista de Demandas Concluídas</h5></div>
	                        <br>
	                 	</div>
                          <div class="panel-body">
                              <div class="task-content">
							   <div style="height:278px;overflow:auto;">
                                  <ul id="sortable4" class="task-list">
									  <li th:each="demanda : ${demandas}" th:if="${demanda.status == 3}" th:class="'list-'+${demanda.criticidade()}">
                                          <a th:href="'/demanda/notas?demanda='+${demanda.id}"><i class=" fa fa-ellipsis-v"></i></a>
                                          <div class="task-checkbox">
                                              <span th:class="'badge bg-'+${demanda.criticidade()}"><small th:text="${demanda.diasVencimento()}"></small></span>
                                          </div>
                                          <div class="task-title">
                                              <span class="task-title-sp" th:text="${demanda.titulo}"></span>
											  	<span class="label label-primary" th:text="${demanda.responsavel.getPrimerioNome()}"></span>
                                              <div class="pull-right">
                                              	<div sec:authorize="hasRole('LIDER')" th:remove="tag">
                                                  <button th:onclick="'modalAddReabertura('+${demanda.id}+');'" style="font-size:13px;" class="btn btn-info btn-xs fa fa-undo"></button>
                                                  <button th:onclick="'modalAddArquivamento('+${demanda.id}+');'" style="font-size:13px;" class="btn btn-danger btn-xs fa fa-archive"></button>
                                                 </div>
                                              </div>
                                          </div>
                                      </li>
                                  </ul>
								 </div>
                              </div>
                          </div>
                      </section>
                  </div><!--/col-md-12 -->
				  
              </div><!-- /row -->
              <div th:if="${equipe.nome != null}">
              <!-- Modal -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModal" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title">Indique Aqui seu Amigo</h4>
		                      </div>
		                      <div class="modal-body">
		                          <p>Entre com o e-mail abaixo para resetar sua senha.</p>
		                          <input type="text" name="email" placeholder="E-mail" autocomplete="off" class="form-control placeholder-no-fix">
		
		                      </div>
		                      <div class="modal-footer">
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Cancelar</button>
		                          <button class="btn btn-theme" type="button">Enviar</button>
		                      </div>
		                  </div>
		              </div>
		          </div>
		        <!-- modal -->
		        
		        <!-- Modals Para lider -->
		        <div sec:authorize="hasAnyRole('LIDER', 'DIRETOR')" th:remove="tag">
		        	
		        	<!-- Modal -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="modalAddMembro" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title">Adicionar um membro</h4>
		                      </div>
		                      <form action="/lider/add/membro"  method="post">
		                      <div class="modal-body">
		                          <p>Entre com o e-mail abaixo do Membro da Equipe que quer adicionar</p>
		                          <input type="text" name="email" placeholder="E-mail" autocomplete="off" class="form-control placeholder-no-fix" required>
		                          <input  type="hidden" name="equipe" th:value="${equipe.id}" >
		                      </div>
		                      <div class="modal-footer">
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Cancelar</button>
		                          <button class="btn btn-theme" type="submit">Adicionar</button>
		                      </div>
		                     </form>
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->
		          
		          <!-- Modal -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="ModalRetirar" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header-d">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title centered">Retirada de Recurso Humano</h4>
		                      </div>
		                      <div class="modal-body centered">
		                          <p>Você Realmente quer <b>Retirar</b> esse Membro da Equipe?</p>		                       	
		                      </div>
		                      <form action="/lider/remove/membro" method="post">
		                      <div class="modal-footer">
		                       <input  type="hidden" name="voluntario" id="retirarMembro">
		                        <input  type="hidden" name="equipe" th:value="${equipe.id}" >
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>
		                          <button class="btn btn-danger" type="submit">Confirmar Retirada</button>
		                      </div>
		                      </form>
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->
					
				<!-- Modal -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="modalMembros" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header-x">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title">Membros da Equipe</h4>
		                      </div>
		                      <div class="modal-body">
		                          <div style="height:465px;line-height:3em;overflow:auto;padding:5px;">
								
							<div class="custom-check goleft">
				             <table class="table table-hover custom-check">
				              <tbody>
								 <tr th:each="membro : ${equipe.membros}">	
									<td th:text="${membro.nome}"></td>
			      					<td th:text="${membro.whatsapp}"></td>
			      					<td th:text="${membro.email}" class="hidden-phone"></td>
			      					<td>				                      
			                     	   <button data-toggle="modal" href="#ModalRetirar" th:onclick="'modalRetirar(' + ${membro.id} +');'" class="btn btn-danger btn-xs" style="margin-left:10px;"><i class="fa fa-times "></i></button>
			      					</td>				      					
		      					</tr>
				              </tbody>
				          </table>
						</div><!-- /table-responsive -->
								
						</div><!-- scrollbar -->
		
		                      </div>
		                      <div class="modal-footer">
		                      <h5 class = "goleft floater" >Total de <span th:text="${equipe.membros.size()}"></span> Membros</h5>
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>		                          
		                      </div>
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->
					
					<!-- Modal -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="ModalInfoLider" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header-x">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title centered" th:text="${equipe.nome}"></h4>
		                      </div>
		                      
		                      <form class="form-horizontal style-form" action="/lider/atualizar/equipe" method="post">
		                      <div class="modal-body">
		                      
		                      <div class="form-group">
	                              <label class="col-sm-2 col-sm-2 control-label">Objetivo</label>
	                              <div class="col-sm-10">
	                                  <input type="text" class="form-control" name="objetivo" th:value="${equipe.objetivo}" required>
	                              </div>
	                          </div>

	                          <div class="form-group">
	                              <label class="col-sm-2 col-sm-2 control-label">Nº de Membros</label>
	                              <div class="col-sm-10">
	                                  <input type="text" class="form-control" name="numeroMembros" th:value="${equipe.numeroMembros}" required>
	                              </div>
	                          </div>
	                          
	                          <div class="form-group">
	                              <label class="col-sm-2 col-sm-2 control-label">Lider</label>
	                              <div class="col-sm-10">
	                                  <input type="text" class="form-control" name="email" th:value="${equipe.lider == null ? '' : equipe.lider.email}" required>
	                              </div>
	                          </div>
	                          
	                          <div class="form-group">
	                              <label class="col-sm-2 col-sm-2 control-label">Descrição</label>
	                              <div class="col-sm-10">
	                                 <textarea rows="8" class="form-control placeholder-no-fix" name="descricao" th:text="${equipe.descricao}"></textarea>
	                              </div>
	                          </div>
	                          	<input type="hidden" name="id" th:value="${equipe.id}" >
		                      </div>

		                      <div class="modal-footer">
		                      	  <button type="button" onclick="modalInfoRetirar()" class="btn btn-primary" data-toggle="modal" href="#modalMembros"><i class="fa fa-users" aria-hidden="true"></i> <span class="hidden-phone"> Membros</span></button>
								  <button type="button" onclick="modalInfoRetirar()" class="btn btn-primary" data-toggle="modal" href="#modalAddMembro"><i class="fa fa-plus" aria-hidden="true"></i> <span class="hidden-phone">Adcionar Membro</span></button>
								  <button class="btn btn-success" type="submit"><i class="fa fa-pencil" aria-hidden="true"></i> Atualizar</button>	
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>
		                      </div>
		                      </form>
		                  </div>
		                  
		              </div>
		          </div>
		          <!-- modal -->
					
					
					<!-- Modal -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="modalDesignaDemanda" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header-x">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title">Designar a Demanda!</h4>
		                      </div>
		                      
		              <form class="form-horizontal style-form" action="/lider/designar" method = "post">
		                      
		                 <div class="modal-body">
		                 
                           <div class="form-group">
                              <label class="col-sm-2 col-sm-2 control-label">Responsável</label>
                              <div class="col-sm-10">  
                               	   <select class="form-control" name = "voluntario"  required>
                                    	<option th:each="membro : ${equipe.membros}" th:value="${membro.id}" th:text="${membro.nome}"></option>
                                    </select> 
                              </div>
                          </div> 
                          
							<input  type="hidden" name="demanda" id="idDesigna" >
						</div>
		                      <div class="modal-footer">
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Cancelar</button>
		                          <button class="btn btn-primary" type="submit">Designar</button>
		                      </div>
		                      
		                      </form>
		                        	
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->
		          
		          <!-- Modal rabertura -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="ModalAddReabertura" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header-b">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title">Reabrir Demanda</h4>
		                      </div>
		                      <form action="/lider/add/reabertura" method="post">
		                      <div class="modal-body">
		                          <p>Qual o motivo da reabertura?</p>	
		                          
		                          <textarea rows="4" class="form-control placeholder-no-fix" name="texto"></textarea>	                       	
		                      </div>
		                      
		                      <div class="modal-footer">
		                       <input hidden type="number" name="demanda" id="idDemandaR">
		                          
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>
		                          <button class="btn btn-primary" type="submit">Adicionar</button>
		                      </div>
		                      </form>
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->
		          
		          <!-- Modal arquivamento -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="ModalAddArquivamento" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header-b">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title">Arquivamento da Demanda</h4>
		                      </div>
		                      <form action="/lider/add/arquivamento" method="post">
		                      <div class="modal-body">
		                          <p>A demanda foi concluida de forma satisfatória?</p>	
		                          
		                          <textarea rows="4" class="form-control placeholder-no-fix" name="texto"></textarea>	                       	
		                      </div>
		                      
		                      <div class="modal-footer">
		                       <input hidden type="number" name="demanda" id="idDemandaA">
		                          
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>
		                          <button class="btn btn-primary" type="submit">Adicionar</button>
		                      </div>
		                      </form>
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->

		        </div>
				  
		          		          
		          <!-- Modal -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="ModalInfo" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title centered" th:text="${equipe.nome}"></h4>
		                      </div>
		                      <div class="modal-body">
		                        <p><b style="font-size:15px;">Objetivo:</b><span th:text="${equipe.objetivo}"></span></p>
		                          <p><b style="font-size:15px;">Nº de Membros:</b><span th:text="${equipe.numeroMembros}"></span></p>
		                          <p><b style="font-size:15px;">Responsável:</b><span th:if="${equipe.lider != null}" th:text="${equipe.lider.nome}"></span></p>
		                          <p><b style="font-size:15px;">Contato:</b><span th:if="${equipe.lider != null}" th:text="${equipe.lider.whatsapp}"></span></p>
		                          <p><b style="font-size:15px;">Equipe da:</b> <span th:text="${equipe.diretoria.nome}"></span></p>
		                          <p><b style="font-size:15px;">Descrição:</b><span th:utext="${equipe.descricao}"></span></p> 		                          
		                      </div>
		                      <div class="modal-footer">
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>
		                      </div>
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->
		          
		          <!-- Modal -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="modalDemanda" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title">Cadastrar Demanda!</h4>
		                      </div>
		                      
		              <form class="form-horizontal style-form" action="/demanda/criar" method = "post">
		                      
		                 <div class="modal-body">
		                 
		                 <div class="form-group">
                              <label class="col-sm-2 col-sm-2 control-label">Título</label>
                              <div class="col-sm-10">
                                  <input type="text" class="form-control" name="titulo" placeholder="Texto curto e direto!" required>
                              </div>
                          </div>
                           <div class="form-group">
                              <label class="col-sm-2 col-sm-2 control-label">Dias para Conclusão</label>
                              <div class="col-sm-10">
                                  <input class="form-control" type="number" name="prazo"  required>
                              </div>
                          </div>  
                           <div class="form-group">
                              <label class="col-sm-2 col-sm-2 control-label">Responsável</label>
                              <div class="col-sm-10">  
                               	   <select class="form-control" name="responsavel">
                                    	<option value="">Sem Definir</option>
                                    		<option th:each="membro : ${equipe.membros}" th:value="${membro.id}" th:text="${membro.nome}"></option>
                                    </select> 
                              </div>
                          </div> 
                          
						    <div class="form-group">
                              <label class="col-sm-2 col-sm-2 control-label">Descrição</label>
                              <div class="col-sm-10">
                                 <textarea rows="8" class="form-control placeholder-no-fix" name="descricao"></textarea>
                              </div>
                          </div>                               

						<input hidden type="number" name="equipe" th:value="${equipe.id}" >
					</div>
		                      <div class="modal-footer">
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Cancelar</button>
		                          <button class="btn btn-theme" type="submit">Enviar</button>
		                      </div>
		                      
		                      </form>
		                        	
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->
		          
		          <!-- Modal nota comum-->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="ModalAddNota" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header-b">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title">Adicionar Nota</h4>
		                      </div>
		                      <form action="/demanda/add/nota" method="post">
		                      <div class="modal-body">
		                          <p>Qual a nota que você quer adcionar?</p>	
		                          
		                          <textarea rows="4" class="form-control placeholder-no-fix" name="texto"></textarea>	                       	
		                      </div>
		                      
		                      <div class="modal-footer">
		                       <input hidden type="number" name="demanda" id="idDemanda">
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>
		                          <button class="btn btn-primary" type="submit">Adicionar</button>
		                      </div>
		                      </form>
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->
		          
		          <!-- Modal conclusão -->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="ModalAddConclusao" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header-b">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title">Concluir Demanda</h4>
		                      </div>
		                      <form action="/demanda/add/conclusao" method="post">
		                      <div class="modal-body">
		                          <p>Nota pertinente a conclusão da Demana</p>	
		                          
		                          <textarea rows="4" class="form-control placeholder-no-fix" name="texto"></textarea>	                       	
		                      </div>
		                      
		                      <div class="modal-footer">
		                       <input hidden type="number" name="demanda" id="idDemandaC" >
		                          
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>
		                          <button class="btn btn-primary" type="submit">Adicionar</button>
		                      </div>
		                      </form>
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->
		          
		          <!-- Modal pendencia-->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="ModalAddPendencia" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header-b">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title">Criar Pendência</h4>
		                      </div>
		                      <form action="/demanda/add/pendencia" method="post">
		                      <div class="modal-body">
		                          <p>Qual a pendência para a conclusão da demanda?</p>	
		                          
		                          <textarea rows="4" class="form-control placeholder-no-fix" name="texto"></textarea>	                       	
		                      </div>
		                      
		                      <div class="modal-footer">
		                       <input hidden type="number" name="demanda" id="idDemandaP" >
		                          
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>
		                          <button class="btn btn-primary" type="submit">Adicionar</button>
		                      </div>
		                      </form>
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->
		          
		          <!-- Modal solução de pendencia-->
					<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="ModalAddSolucao" class="modal fade">
		              <div class="modal-dialog">
		                  <div class="modal-content">
		                      <div class="modal-header-b">
		                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                          <h4 class="modal-title">Solução de Pendência</h4>
		                      </div>
		                      <form action="/demanda/add/resolucao" method="post">
		                      <div class="modal-body">
		                          <p>Qual a solução para a pendência foi encontrada?</p>	
		                          
		                          <textarea rows="4" class="form-control placeholder-no-fix" name="texto"></textarea>	                       	
		                      </div>
		                      
		                      <div class="modal-footer">
		                       <input hidden type="number" name="demanda" id="idDemandaS">
		                          
		                          <button data-dismiss="modal" class="btn btn-default" type="button">Fechar</button>
		                          <button class="btn btn-primary" type="submit">Adicionar</button>
		                      </div>
		                      </form>
		                  </div>
		              </div>
		          </div>
		          <!-- modal -->
		       </div>   
			
		</section>
      </section><!-- /MAIN CONTENT -->

      <!--main content end-->
      <footer th:replace="fragments/footer :: content"></footer>
  </section>

	<div th:include="fragments/commonJs :: scripts" th:remove="tag"></div>
  
    <script src="https://cloud.tinymce.com/stable/tinymce.min.js?apiKey=3xxlvr4x4mfh2h5wsc9vh3bdq5b2st3sxgv8iowhcxy83kbv"></script>
 	<script>tinymce.init({ selector:'textarea', menubar: false, height: 250 });</script>

    <!--script for this page-->
    <script src="/assets/js/tasks.js" type="text/javascript"></script>

    <script>
    
      jQuery(document).ready(function() {
          TaskList.initTaskWidget();
      });

      $(function() {
          $( "#sortable" ).sortable();
          $( "#sortable" ).disableSelection();
      });
	  
	        $(function() {
          $( "#sortable2" ).sortable();
          $( "#sortable2" ).disableSelection();
      });
	  
	  	        $(function() {
          $( "#sortable3" ).sortable();
          $( "#sortable3" ).disableSelection();
      });
	  
	  	        $(function() {
          $( "#sortable4" ).sortable();
          $( "#sortable4" ).disableSelection();
      });


    </script>
    
   <script type="text/javascript">
    function modalRetirar(userId) {
        // altera as informações do modal cancelar  
        $('#modalMembros').modal('toggle');
      	  document.getElementById("retirarMembro").value = userId;
        
      };
      function modalInfoRetirar() {
          // altera as informações do modal cancelar  
          $('#ModalInfoLider').modal('toggle'); 
        };
      function clickAndDisable(link) {
          // disable subsequent clicks
          link.onclick = function(event) {
             event.preventDefault();
          }
        };
    </script> 
    
    <script>
    
    function modalAddNota(demandaId) {
        // altera as informações do modal cancelar  
        $('#ModalAddNota').modal('toggle');
      	  document.getElementById("idDemanda").value = demandaId;
        
    };
    
    function modalAddConclusao(demandaId) {
        // altera as informações do modal cancelar  
        $('#ModalAddConclusao').modal('toggle');
      	  document.getElementById("idDemandaC").value = demandaId;
        
    };
    
    function modalAddPendencia(demandaId) {
        // altera as informações do modal cancelar  
        $('#ModalAddPendencia').modal('toggle');
      	  document.getElementById("idDemandaP").value = demandaId;
        
    };
    
    function modalAddSolucao(demandaId) {
        // altera as informações do modal cancelar  
        $('#ModalAddSolucao').modal('toggle');
      	  document.getElementById("idDemandaS").value = demandaId;
        
    };
    
    function modalAddReabertura(demandaId) {
        // altera as informações do modal cancelar  
        $('#ModalAddReabertura').modal('toggle');
      	  document.getElementById("idDemandaR").value = demandaId;
        
    };
    
    function modalAddArquivamento(demandaId) {
        // altera as informações do modal cancelar  
        $('#ModalAddArquivamento').modal('toggle');
      	  document.getElementById("idDemandaA").value = demandaId;
        
    };
    
    function modalDesignaDemanda(demandaId) {
        // altera as informações do modal cancelar  
        $('#modalDesignaDemanda').modal('toggle');
      	  document.getElementById("idDesigna").value = demandaId;
        
    };
    
    $('#equipes').on('change', function() {
		  console.log( this.value );
		  window.location.href = "/diretor/change/equipe?equipe="+this.value;
	});
    
	function legandaButton(legenda){
		$('#legenda-btn').html('<i class="fa fa-hand-o-right" aria-hidden="true"></i> ' + legenda);   		
     }
    	

	</script>

  </body>
</html>
